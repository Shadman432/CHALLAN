<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Challan Form</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anta&family=Belanosima:wght@400;600;700&family=Bungee&family=Caprasimo&family=Great+Vibes&family=Kalnia:wght@100..700&family=Kaushan+Script&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Pacifico&family=Rubik+Doodle+Shadow&family=Ysabeau+SC:wght@1..1000&display=swap" rel="stylesheet">
<link rel="stylesheet" href="challan.css">
</head>
<body>

<div class="container">
    <div class="print-box" onclick="printPage()">
        <img src="print2.png" alt="Print" title="Print">
    </div>
    <h2>Challan Form</h2>
    <div>
        <label for="date" class="date-label">Date:</label>
        <input type="date" id="date" name="date" class="date-input">
    </div>
    <div class="challan-info">
        <div>
            <label for="from">From (Mr/Mrs):</label>
            <input type="text" id="from" name="from">
        </div>
        <div>
            <label for="challan-no">Challan No:</label>
            <input type="text" id="challan-no" name="challan-no">
        </div>
        
        <div>
            <label for="to">To (Mr/Mrs):</label>
            <input type="text" id="to" name="to">
        </div>
    </div>

    <table class="particulars-table">
        <thead>
            <tr>
                <th style="font-size: 25px;">Quantity</th>
                <th style="font-size: 25px;">Particulars</th>
                <th style="font-size: 25px;">Rate</th>
                <th style="font-size: 25px;">Amount</th>
            </tr>
        </thead>
        <tbody id="particulars-table-body">
            <!-- Added 1 row initially -->
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            <tr>
                <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="particulars"></td>
                <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount(0)"></td>
                <td><input type="text" name="amount" class="amount-input" readonly></td>
            </tr>
            
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3" style="text-align: right; font-weight: bold;">Total:</td>
                <td><input type="text" id="total-amount" readonly></td>
            </tr>
        </tfoot>
    </table>

    <button class="addrow" onclick="addRow()">+</button>
</div>

<script>
    function calculateAmount() {
        var rows = document.querySelectorAll('.quantity-input');
        rows.forEach(function(row, index) {
            var quantity = parseFloat(row.value);
            var rate = parseFloat(document.querySelectorAll('.rate-input')[index].value);
            var amountInput = document.querySelectorAll('.amount-input')[index];
            if (!isNaN(quantity) && !isNaN(rate)) {
                amountInput.value = (quantity * rate).toFixed(2);
            } else {
                amountInput.value = '';
            }
        });
        calculateTotal();
    }

    function calculateTotal() {
        var total = 0;
        var amounts = document.querySelectorAll('.amount-input');
        amounts.forEach(function(element) {
            if (!isNaN(parseFloat(element.value))) {
                total += parseFloat(element.value);
            }
        });
        document.getElementById('total-amount').value = total.toFixed(2);
    }

    function addRow() {
        var tableBody = document.getElementById('particulars-table-body');
        var newRow = document.createElement('tr');
        newRow.innerHTML = `
            <td><input type="text" name="quantity" class="quantity-input" oninput="calculateAmount()"></td>
            <td><input type="text" name="particulars"></td>
            <td><input type="text" name="rate" class="rate-input" oninput="calculateAmount()"></td>
            <td><input type="text" name="amount" class="amount-input" readonly></td>
        `;
        tableBody.appendChild(newRow);
    }

    function printPage() {
        window.print();
    }
</script>

</body>
</html>
